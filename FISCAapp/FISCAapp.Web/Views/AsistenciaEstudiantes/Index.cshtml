@model IEnumerable<FISCA.Dominio.Entidades.AsistenciaEstudiantes>

<h2>Lista de Asistencia de Estudiantes</h2>

<div class="w-5 btn-group" role="group">
    <a asp-controller="AsistenciaEstudiantes" asp-action="Agregar" class="btn btn-success mx-2">Agregar</a>
</div>

<table class="table table-light table-bordered table-striped">
    <thead>
        <tr>
            <th>ID Asistencia</th>
            <th>Estudiante</th>
            <th>Asignación</th>
            <th>Fecha</th>
            <th>Estado</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var asistencia in Model)
        {
            <tr>
                <td>@asistencia.IdAsistencia</td>
                <td>
                    @{
                        var nombreEstudiante = "";
                        foreach (var estudiante in ViewBag.Estudiantes)
                        {
                            if (estudiante.IdEstudiante == asistencia.IdEstudiante)
                            {
                                nombreEstudiante = estudiante.NombresEstudiante;
                                break;
                            }
                        }
                        @nombreEstudiante
                    }
                </td>
                <td>
                    @{
                        var descripcionAsignacion = "";
                        foreach (var asignacion in ViewBag.Asignaciones)
                        {
                            if (asignacion.IdAsignacion == asistencia.IdAsignacion)
                            {
                                descripcionAsignacion = asignacion.Descripcion;
                                break;
                            }
                        }
                        @descripcionAsignacion
                    }
                </td>
                <td>@asistencia.Fecha.ToShortDateString()</td>
                <td>@asistencia.Estado</td>
                <td>
                    <div class="w-75 btn-group" role="group">
                        <a asp-controller="AsistenciaEstudiantes" asp-action="Actualizar" asp-route-id="@asistencia.IdAsistencia" class="btn btn-success mx-2">Actualizar</a>
                        <a asp-controller="AsistenciaEstudiantes" asp-action="Eliminar" asp-route-id="@asistencia.IdAsistencia" class="btn btn-danger mx-2">Eliminar</a>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
